<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>demo</title>
    <script src="jquery.js" charset="utf-8"></script>
    <script src="axios.js" charset="utf-8"></script>
    <script>
        const host = 'http://localhost:8888/'
        axios.defaults.baseURL = 'http://localhost:8888/'


        

         async function show(){
            try{
                /* let data1 = await $.ajax({url: host+'list', dataType: 'json'});
                let data2 = await $.ajax({url: host+'getlunbo', dataType: 'json'});
                let data3 = await $.ajax({url: host+'newsList', dataType: 'json'}); */
                let data1 = await axios.get('list');
                let data2 = await axios.get('getlunbo');
                let data3 = await axios.get('newsList');
                console.log(data1,data2,data3);
            }catch(e){
                console.log(e);
            }
        }
        show();



        /* function *show(){
            let data1 = yield $.ajax({url: host+'list', dataType: 'json'});
            if(data1.lenght>0){
                let data2 = yield $.ajax({url: host+'newsList', dataType: 'json'});
            }else{
                let data2 = yield $.ajax({url: host+'getlunbo', dataType: 'json'});
            }
        }
        runner(show); */


        /* axios.get('list')
        .then(res=>{
            console.log(res)
        })
        .catch(err=>{
            console.log(err)
        })

        let q1 = axios.get('list');
        let q2 = axios.get('getlunbo');
        let q3 = axios.get('newsList');
        axios.all([q1,q2,q3])
        .then(axios.spread((req1,req2,req3)=>{
            console.log(req1,req2,req3)
        }))
        .catch(err=>{
            console.log(err)
        }) */



        /* let p = new Promise((resolve,reject)=>{
            $.ajax({
                url: host+'list',
                dataType: 'json',
                success(json){
                    resolve(json);
                },
                error(err){
                    reject(err);
                }
            });
        });
        p.then(
        json=>{
            alert('成功')
            console.log(json)
        },
        err=>{
            alert('失败')
            console.log(err)
        }); */

        /* let p = new Promise((resolve,reject)=>{
            $.ajax({
                url: host+'list',
                dataType: 'json',
                success(json){
                    resolve(json);
                },
                error(err){
                    reject(err);
                }
            });
        });
        let p1 = new Promise((resolve,reject)=>{
            $.ajax({
                url: host+'getlunbo',
                dataType: 'json',
                success(json){
                    resolve(json);
                },
                error(err){
                    reject(err);
                }
            });
        });
        let p2 = new Promise((resolve,reject)=>{
            $.ajax({
                url: host+'newsList',
                dataType: 'json',
                success(json){
                    resolve(json);
                },
                error(err){
                    reject(err);
                }
            });
        });

        Promise.all([p,p1,p2]).then(
        arr=>{
            let [j1,j2,j3] = arr;
            alert('成功')
            console.log(j1,j2,j3)
        },
        err=>{
            alert('失败')
        }) */

        
        /* Promise.all([
            $.ajax({url: host+'list', dataType: 'json'}),
            $.ajax({url: host+'newsList', dataType: 'json'}),
            $.ajax({url: host+'getlunbo', dataType: 'json'})
        ]).then(arr=>{
            let [j1,j2,j3] = arr;
            console.log(j1,j2,j3);
        }, err=>{
            alert('fail')
        }) */

    </script>
</head>
<body>
    
</body>
</html>